(this.webpackJsonpjweeter=this.webpackJsonpjweeter||[]).push([[0],{57:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),a=t(38),i=t.n(a),o=t(10),s=t(4),d=t(26),l=t(8),u=t(31),b=t(27);t(47),t(58),t(59);b.a.initializeApp({apiKey:"AIzaSyDN9a2Yi4LqyXB-CjN0KrZHuahLUxYpz3g",authDomain:"jwitter-7042a.firebaseapp.com",projectId:"jwitter-7042a",storageBucket:"jwitter-7042a.appspot.com",messagingSenderId:"195554282585",appId:"1:195554282585:web:5963ae061c863905273548"});var j,p,x,O,f,h,g,m,y,w,v,k,S,z,C,A,N,I,U,P,D,E,F,L,B,J,T,q,G,R,W,Y,H,K,M,X,Z,_,Q,V,$,ee,ne,te,ce,re,ae=b.a,ie=b.a.auth(),oe=b.a.firestore(),se=b.a.storage(),de=t(3),le=t(11),ue=t(25),be=t(18),je=t(1),pe=de.c.div(j||(j=Object(s.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  border: 1px solid rgb(255, 255, 255);\n  margin-bottom: 20px;\n  border-radius: 15px;\n  padding: 5px;\n"]))),xe=de.c.div(p||(p=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 100%;\n  height: 100%;\n  word-break: break-all;\n  padding: 10px 5px;\n"]))),Oe=de.c.div(x||(x=Object(s.a)(["\n  width: 100%;\n  padding: 0px 5px;\n  padding-bottom: 10px;\n  color: rgb(100, 100, 100);\n"]))),fe=de.c.img(O||(O=Object(s.a)(["\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  object-fit: cover;\n  bottom: -10px;\n  right: 0px;\n  border-radius: 25px;\n"]))),he=de.c.div(f||(f=Object(s.a)(["\n  display: flex;\n  align-items: center;\n"]))),ge=de.c.button(h||(h=Object(s.a)(["\n  padding: 10px;\n  padding-top: 0px;\n  color: #289ae2;\n"]))),me=de.c.form(g||(g=Object(s.a)(["\n  width: 100%;\n  word-break: break-all;\n  display: flex;\n  justify-content: space-between;\n"]))),ye=de.c.textarea(m||(m=Object(s.a)(["\n  all: unset;\n  width: 100%;\n  cursor: text;\n  padding: 10px 5px;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),we=de.c.input(y||(y=Object(s.a)(["\n  display: none;\n"]))),ve=de.c.label(w||(w=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  padding: 10px;\n  border-radius: 20px;\n  margin: 5px;\n  background-color: #289ae2;\n"]))),ke=de.c.button(v||(v=Object(s.a)(["\n  padding: 10px;\n  border-radius: 20px;\n  margin: 5px;\n  background-color: #289ae2;\n"]))),Se=function(e){var n=e.jweetObj,t=e.isOwner,r=Object(c.useState)(!1),a=Object(o.a)(r,2),i=a[0],s=a[1],d=Object(c.useState)(n.text),l=Object(o.a)(d,2),u=l[0],b=l[1],j=new Date(n.createdAt).toLocaleString(),p=function(){return s((function(e){return!e}))};return Object(je.jsx)(je.Fragment,{children:i?Object(je.jsx)(pe,{children:Object(je.jsxs)(me,{onSubmit:function(e){e.preventDefault(),oe.doc("jweets/".concat(n.id)).update({text:u}),s(!1)},children:[Object(je.jsx)(ye,{placeholder:"Edit your Jweet",required:!0,onChange:function(e){var n=e.currentTarget.value;b(n)},value:u}),Object(je.jsxs)(he,{children:[Object(je.jsx)(ve,{htmlFor:"update",children:Object(je.jsx)(le.a,{icon:be.c})}),Object(je.jsx)(we,{id:"update",type:"submit"}),Object(je.jsx)(ke,{onClick:p,children:Object(je.jsx)(le.a,{icon:be.a})})]})]})}):Object(je.jsxs)(pe,{children:[Object(je.jsxs)(xe,{children:[n.text,t&&Object(je.jsxs)(he,{children:[Object(je.jsx)(ge,{onClick:p,children:Object(je.jsx)(le.a,{icon:be.d})}),Object(je.jsx)(ge,{onClick:function(){window.confirm("Are you sure you wanna delete this Jweet?")&&oe.doc("jweets/".concat(n.id)).delete()},children:Object(je.jsx)(le.a,{icon:ue.a})})]})]}),Object(je.jsxs)(Oe,{children:["By ",n.creatorName," at ",j]}),n.attachmentUrl&&Object(je.jsx)(fe,{src:n.attachmentUrl})]})})},ze=t(14),Ce=t.n(ze),Ae=t(21),Ne=t(61),Ie=de.c.form(k||(k=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  border-radius: 20px;\n"]))),Ue=de.c.input(S||(S=Object(s.a)(["\n  display: none;\n"]))),Pe=de.c.input(z||(z=Object(s.a)(["\n  width: 100%;\n  font-size: 15px;\n  cursor: text;\n  &::placeholder {\n    font-size: 15px;\n  }\n"]))),De=de.c.div(C||(C=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px 0px;\n"]))),Ee=de.c.div(A||(A=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px 0px;\n  padding: 5px;\n  border: 1px solid #289ae2;\n  border-radius: 20px;\n"]))),Fe=de.c.button(N||(N=Object(s.a)(["\n  padding: 10px;\n  font-size: 16px;\n  color: #289ae2;\n"]))),Le=de.c.img(I||(I=Object(s.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 25px;\n"]))),Be=de.c.label(U||(U=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  color: #289ae2;\n  padding: 5px 0px;\n"]))),Je=de.c.label(P||(P=Object(s.a)(["\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  background-color: #289ae2;\n  border-radius: 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Te=function(e){var n=e.userObj,t=Object(c.useState)(""),r=Object(o.a)(t,2),a=r[0],i=r[1],s=Object(c.useState)(""),d=Object(o.a)(s,2),l=d[0],u=d[1],b=function(){var e=Object(Ae.a)(Ce.a.mark((function e(t){var c,r,o,s;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a){e.next=3;break}return e.abrupt("return");case 3:if(c="",!l){e.next=12;break}return r=se.ref().child("".concat(null===n||void 0===n?void 0:n.uid,"/").concat(Object(Ne.a)())),e.next=8,r.putString(l,"data_url");case 8:return o=e.sent,e.next=11,o.ref.getDownloadURL();case 11:c=e.sent;case 12:return s={text:a,createdAt:Date.now(),creatorId:(null===n||void 0===n?void 0:n.uid)||"",creatorName:(null===n||void 0===n?void 0:n.displayName)||"",attachmentUrl:c},e.next=15,oe.collection("jweets").add(s);case 15:u(""),i("");case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(je.jsxs)(Ie,{onSubmit:b,children:[Object(je.jsxs)(Ee,{children:[Object(je.jsx)(Pe,{onChange:function(e){var n=e.currentTarget.value;i(n)},value:a,type:"text",placeholder:"What do you think now?",max:120}),Object(je.jsx)(Je,{htmlFor:"submit",children:Object(je.jsx)(le.a,{icon:be.c})}),Object(je.jsx)(Ue,{id:"submit",type:"submit",value:"Jweet"})]}),Object(je.jsxs)(Be,{htmlFor:"attach-file",children:[Object(je.jsx)(le.a,{icon:be.e}),Object(je.jsx)("span",{children:"Add Photo "})]}),Object(je.jsx)(Ue,{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var n=e.currentTarget.files,t=(null===n||void 0===n?void 0:n[0])||null;if(t){var c=new FileReader;c.onloadend=function(){var e=c.result;u((null===e||void 0===e?void 0:e.toString())||"")},c.readAsDataURL(t)}}}),l&&Object(je.jsxs)(De,{children:[Object(je.jsx)(Le,{src:l}),Object(je.jsx)(Fe,{onClick:function(){u("")},children:Object(je.jsx)(le.a,{icon:ue.a,size:"1x"})})]})]})},qe=de.c.div(D||(D=Object(s.a)(["\n  margin-top: 20px;\n  height: 100%;\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),Ge=function(e){var n=e.userObj,t=Object(c.useState)([]),r=Object(o.a)(t,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){oe.collection("jweets").orderBy("createdAt","desc").onSnapshot((function(e){var n=[];e.docs.forEach((function(e){var t=Object(u.a)({id:e.id},e.data());n.push(t)})),i(n)}))}),[]),Object(je.jsxs)(qe,{children:[Object(je.jsx)(Te,{userObj:n}),a.map((function(e){return Object(je.jsx)(Se,{jweetObj:e,isOwner:e.creatorId===n.uid},e.id)}))]})},Re=de.c.div(E||(E=Object(s.a)(["\n  width: 100%;\n  max-width: 320px;\n"]))),We=de.c.form(F||(F=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Ye=de.c.input(L||(L=Object(s.a)(["\n  background-color: rgb(255, 255, 255);\n  width: 100%;\n  padding: 5px 10px;\n  margin-bottom: 5px;\n  border-radius: 20px;\n  box-sizing: border-box;\n  cursor: text;\n  color: rgb(20, 20, 20);\n"]))),He=de.c.input(B||(B=Object(s.a)(["\n  width: 100%;\n  padding: 10px 0px;\n  border-radius: 20px;\n  margin-top: 10px;\n  box-sizing: border-box;\n  background-color: #289ae2;\n  display: flex;\n  justify-content: center;\n"]))),Ke=de.c.span(J||(J=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n  color: #289ae2;\n  text-decoration: underline;\n"]))),Me=function(){var e=Object(c.useState)(""),n=Object(o.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),i=Object(o.a)(a,2),s=i[0],d=i[1],l=Object(c.useState)(!0),u=Object(o.a)(l,2),b=u[0],j=u[1],p=Object(c.useState)(""),x=Object(o.a)(p,2),O=x[0],f=x[1],h=function(e){var n=e.currentTarget,t=n.name,c=n.value;"email"===t?r(c):"password"===t&&d(c)},g=function(){var e=Object(Ae.a)(Ce.a.mark((function e(n){return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!b){e.next=7;break}return e.next=5,ie.createUserWithEmailAndPassword(t,s);case 5:e.next=9;break;case 7:return e.next=9,ie.signInWithEmailAndPassword(t,s);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),f(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(je.jsxs)(Re,{children:[Object(je.jsxs)(We,{onSubmit:g,children:[Object(je.jsx)(Ye,{name:"email",type:"email",placeholder:"Email",value:t,onChange:h,required:!0}),Object(je.jsx)(Ye,{name:"password",type:"password",placeholder:"Password",value:s,onChange:h,required:!0}),Object(je.jsx)(He,{type:"submit",value:b?"Create Account":"Sign In"}),O]}),Object(je.jsx)(Ke,{onClick:function(){return j((function(e){return!e}))},children:b?"Sign In":"Create Account"})]})},Xe=t(20),Ze=de.c.div(T||(T=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),_e=de.c.div(q||(q=Object(s.a)(["\n  color: #289ae2;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 50px;\n  font-size: 30px;\n"]))),Qe=de.c.div(G||(G=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 40px;\n"]))),Ve=de.c.button(R||(R=Object(s.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 75%;\n  padding: 5px 0px;\n  border-radius: 20px;\n  color: rgb(20, 20, 20);\n  background: rgb(220, 220, 220);\n  margin-bottom: 15px;\n"]))),$e=function(){var e=function(){var e=Object(Ae.a)(Ce.a.mark((function e(n){var t,c;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("google"===(t=n.currentTarget.name)?c=new ae.auth.GoogleAuthProvider:"github"===t&&(c=new ae.auth.GithubAuthProvider),e.t0=c,!e.t0){e.next=6;break}return e.next=6,ie.signInWithPopup(c);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(je.jsxs)(Ze,{children:[Object(je.jsx)(_e,{children:Object(je.jsx)(le.a,{icon:Xe.c,size:"4x"})}),Object(je.jsx)(Me,{}),Object(je.jsxs)(Qe,{children:[Object(je.jsxs)(Ve,{onClick:e,name:"google",children:["Continue with Google",Object(je.jsx)(le.a,{icon:Xe.b,size:"2x"})]}),Object(je.jsxs)(Ve,{onClick:e,name:"github",children:["Continue with Github",Object(je.jsx)(le.a,{icon:Xe.a,size:"2x"})]})]})]})},en=de.c.div(W||(W=Object(s.a)(["\n  height: 100%;\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),nn=de.c.form(Y||(Y=Object(s.a)(["\n  border: 1px solid rgb(255, 255, 255);\n  padding: 10px 5px;\n  border-radius: 20px;\n  margin-top: 20px;\n  display: flex;\n  justify-content: space-between;\n"]))),tn=de.c.input(H||(H=Object(s.a)(["\n  width: 105px;\n  cursor: text;\n  color: rgb(100, 100, 100);\n  padding: 10px;\n  font-size: 16px;\n"]))),cn=de.c.input(K||(K=Object(s.a)(["\n  border-radius: 20px;\n  background-color: #289ae2;\n  text-align: center;\n  padding: 10px;\n  margin-right: 10px;\n"]))),rn=de.c.button(M||(M=Object(s.a)(["\n  padding: 10px;\n  border-radius: 20px;\n  background-color: tomato;\n  text-align: center;\n  padding: 10px;\n"]))),an=de.c.ul(X||(X=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-top: 20px;\n"]))),on=de.c.li(Z||(Z=Object(s.a)(["\n  border: 1px solid rgb(255, 255, 255);\n  padding: 10px;\n  border-radius: 10px;\n  margin-bottom: 10px;\n"]))),sn=function(e){var n=e.userObj,t=e.refreshUser,r=Object(c.useState)(n.displayName||""),a=Object(o.a)(r,2),i=a[0],s=a[1],d=Object(c.useState)([]),b=Object(o.a)(d,2),j=b[0],p=b[1],x=Object(l.f)(),O=function(){var e=Object(Ae.a)(Ce.a.mark((function e(c){return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),n.displayName!==i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.updateProfile(i);case 5:alert("Your name has been changed to ".concat(i," :)")),t();case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=Object(Ae.a)(Ce.a.mark((function e(){var t,c;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.collection("jweets").where("creatorId","==",n.uid).orderBy("createdAt","desc").get();case 2:t=e.sent,c=[],t.docs.forEach((function(e){c.push(Object(u.a)({id:n.uid},e.data()))})),p(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f()}),[]),Object(je.jsxs)(en,{children:[Object(je.jsxs)(nn,{onSubmit:O,children:[Object(je.jsx)(tn,{type:"text",placeholder:"Display name",value:i,onChange:function(e){var n=e.currentTarget.value;s(n)},maxLength:10}),Object(je.jsx)(cn,{type:"submit",value:"Update Profile"}),Object(je.jsx)(rn,{onClick:function(){ie.signOut(),x.push("/")},children:"Log Out"})]}),Object(je.jsx)(an,{children:j.map((function(e,n){return Object(je.jsx)(on,{children:e.text},n)}))})]})},dn=de.c.nav(_||(_=Object(s.a)([""]))),ln=de.c.ul(Q||(Q=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]))),un=de.c.li(V||(V=Object(s.a)(["\n  font-size: 16px;\n  &:hover {\n    color: #289ae2;\n  }\n"]))),bn=Object(de.c)(d.b)($||($=Object(s.a)(["\n  width: 90px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  font-size: 12px;\n"]))),jn=de.c.span(ee||(ee=Object(s.a)(["\n  font-size: 16px;\n  margin-left: 10px;\n"]))),pn=function(e){var n=e.userObj;return Object(je.jsx)(dn,{children:Object(je.jsxs)(ln,{children:[Object(je.jsx)(un,{children:Object(je.jsx)(d.b,{to:"/",children:Object(je.jsx)(le.a,{icon:Xe.c,size:"2x"})})}),Object(je.jsx)(un,{children:Object(je.jsxs)(bn,{to:"/",children:[Object(je.jsx)(le.a,{icon:be.b,size:"2x"}),Object(je.jsx)(jn,{children:"Home"})]})}),Object(je.jsx)(un,{children:Object(je.jsxs)(bn,{to:"/profile",children:[Object(je.jsx)(le.a,{icon:ue.b,size:"2x"}),Object(je.jsx)(jn,{children:(null===n||void 0===n?void 0:n.displayName)?n.displayName:"Profile"})]})})]})})},xn=function(e){var n=e.isLoggedIn,t=e.userObj,c=e.refreshUser;return Object(je.jsxs)(d.a,{children:[n&&Object(je.jsx)(pn,{userObj:t}),Object(je.jsx)(l.c,{children:n&&t?Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(l.a,{exact:!0,path:"/",children:Object(je.jsx)(Ge,{userObj:t})}),Object(je.jsx)(l.a,{exact:!0,path:"/profile",children:Object(je.jsx)(sn,{userObj:t,refreshUser:c})})]}):Object(je.jsx)(l.a,{exact:!0,path:"/",children:Object(je.jsx)($e,{})})})]})},On=t(42),fn=Object(de.a)(ne||(ne=Object(s.a)(["\n\n    ","\n    input, button, span{\n        all:unset;\n        cursor:pointer;\n        &::-webkit-file-upload-button {\n            all: unset;\n            width: 50px;\n            padding: 10px;\n            text-align: center;\n            color: rgb(255, 255, 255);\n            background-color: #289ae2;\n            border-radius: 20px;\n            margin-right:10px;\n        }\n    }\n    a{\n        text-decoration:none;\n        color:inherit;\n    }\n    *{\n        box-sizing:border-box;\n    }\n    body{\n        width:100%;\n        height:100vh;\n        color:rgb(250,250,250);\n        background-color:rgb(0,0,0);\n        font-family:--apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n        font-size:12px;\n        font-weight:600;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n    }\n    \n    #root{\n        padding:20px 0px;\n        width:320px;\n        height:100%;\n        /* overflow-y:scroll;\n        &::-webkit-scrollbar{\n            display:none;\n        } */\n        display:flex;\n        \n    }\n\n"])),On.a),hn=de.c.div(te||(te=Object(s.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n"]))),gn=de.c.footer(ce||(ce=Object(s.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 30px;\n"]))),mn=de.c.div(re||(re=Object(s.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 200px 0px;\n  color: #289ae2;\n"]))),yn=function(){var e=Object(c.useState)(!1),n=Object(o.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(null),i=Object(o.a)(a,2),s=i[0],d=i[1];Object(c.useEffect)((function(){ie.onAuthStateChanged((function(e){d(e?{displayName:e.displayName,uid:e.uid,updateProfile:function(n){return e.updateProfile({displayName:n})}}:null),r(!0)}))}),[]);return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsxs)(hn,{children:[t?Object(je.jsx)(xn,{isLoggedIn:Boolean(s),userObj:s,refreshUser:function(){var e=ie.currentUser;e&&d({displayName:e.displayName||null,uid:e.uid,updateProfile:function(n){return e.updateProfile({displayName:n})}})}}):Object(je.jsx)(mn,{children:Object(je.jsx)(le.a,{icon:Xe.c,spin:!0,size:"4x"})}),Object(je.jsxs)(gn,{children:["\xa9 ",(new Date).getFullYear()," Jwitter"]})]}),Object(je.jsx)(fn,{})]})};i.a.render(Object(je.jsx)(r.a.StrictMode,{children:Object(je.jsx)(yn,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.bf2eea2a.chunk.js.map